<!DOCTYPE html>
<html>
<head>
    <title>eFrontPro</title>
    <style>
        body {
            font-family: sans-serif; font-size: 12px;
        }
        pre, code {
            background: #fafafa; border: 1px solid #ccc; border-radius: 4px; font-size: 14px;
        }
        pre {
            margin: 10px 0; padding: 5px;
        }
        code {
            padding: 2px 4px;
        }
    </style>
    <script>
        window.onload = function() {
            document.getElementById("host").innerHTML = location.host;
            try {
                window.addEventListener('message', function(event) {
                    // In a production environment, it is recommended to check
                    // event.origin to ensure the message is coming from a Connections environment.
                    console.log('Got msg', event.data);
                    document.getElementById('contextId').innerHTML = JSON.stringify(event.data, null, 2);
                }, false);
            } catch (e) {
                console.log(e);
            }
            parent.postMessage('appReady', "*");
        }
    </script>

</head>
<body>

<p>eFrontPro app running at <code id="host"></code>.</p>
<p> The following context is passed from Communities: </p>
<pre id="contextId"></pre>
<div class="efront_container" id="efront_root" xmlns="http://www.w3.org/1999/html">
    <div id="headContainer">
        <div id="title">
            <h2 style="color: #4D82B8;"><strong>My Training</strong>
                <img id="open_book" src="/widgets/eFront/assets/img/open_book_vector.svg"></h2>
        </div>
        <div id="homebutton"></div>
    </div>
    <hr class="horizontalRuler"> </hr>
    <div id="efront_data"></div>
</div>
</body>
</html>